package com.ywhk.ckb.service.impl;import com.ywhk.ckb.dao.model.core.DirectoryEntity;import com.ywhk.ckb.dao.model.core.MedSpecEntity;import com.ywhk.ckb.dao.repository.DirectoryRepository;import com.ywhk.ckb.dao.repository.MedSpecRespository;import com.ywhk.ckb.service.MedicineService;import com.ywhk.ckb.service.dto.DirectoryDto;import org.springframework.beans.BeanUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.ArrayList;import java.util.List;@Service("medicineService")public class MedicineServiceImpl implements MedicineService {    @Autowired    private DirectoryRepository directoryRepository;    @Autowired    private MedSpecRespository medSpecRespository;    /**     * 查询所有药品分类     * @return     */    @Override    public List<DirectoryDto> queryMedType () {        return queryDirectoryByFParentID(0);    }    private List<DirectoryDto> queryDirectoryByFParentID (Integer id) {        List<DirectoryDto> ret = new ArrayList<>();        List<DirectoryEntity> directorys = directoryRepository.findByFParentID(id);        directorys.forEach(directory -> {            DirectoryDto d = new DirectoryDto();            BeanUtils.copyProperties(directory, d);            d.setChildrens(queryDirectoryByFParentID(directory.getDirectoryID()));            ret.add(d);        });        return ret;    }    /**     * 根据药品分类查询药品目录     * @param medSpecEntity     * @return     */    @Override    public List<MedSpecEntity> queryMedList (MedSpecEntity medSpecEntity) {        return medSpecRespository.findByDirectoryID(medSpecEntity.getDirectoryID());    }    /**     * 查询药品详情     * @param medSpecEntity     * @return     */    @Override    public List<MedSpecEntity> queryMedDetail(MedSpecEntity medSpecEntity) {        return medSpecRespository.findByFMedSpecID(medSpecEntity.getFMedSpecID());    }}